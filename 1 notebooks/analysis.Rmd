---
title: Concurrent validity of an Estimator of Weekly Alcohol Consumption (EWAC) based
  on the Extended AUDIT
csl: elsevier-vancouver.csl
link-citations: yes
output:
  html_notebook:
    toc: yes
    number_sections: true
  #   df_print: paged
  #   toc: yes
  #   number_sections: true
  # html_document:
bibliography: bibliography.bib
---


```{r loading data, include=F}
# Loading data
source("../0 functions/functions.R")
source("../0 functions/filepaths.R")
library(data.table)
library(haven)
library(scales)
load(file.path(atsfiles, "HSE.RData"))
load(file.path(atsfiles, "qfmodule.RData"))
ats <- merge(ats, audit1, "audit1_label", all.x = T, all.y = F)
ats <- merge(ats, audit2, "audit2_label", all.x = T, all.y = F)
ats <- merge(ats, audit3, "audit3_label", all.x = T, all.y = F)
ats <- proc.AUDIT(ats)
ats <- ats[audit1 %in% 2:6 & audit2 %in% 1:7,]
hse <- hse[hse$dnnow == 1,]

```


# Background

The Alcohol Use Disorders Identification Test (AUDIT) [@Babor2001] is a 10-item questionnaire schedule widely employed in clinical practice and clinical research as a diagnostic test for alcohol use disorder (ICD-10 F10.1/F10.2; ICD-11 QE10/6C40.1). Diagnostic studies show good predictive capabilities for both:

-	clinical diagnoses (e.g. Composite International Diagnostic Interview, Structured Clinical Interview, Alcohol Use Disorder and Associated Disabilities Interview), and
-	consumption in excess of maximum recommended intakes (e.g. 140g/week in Australia, 112 g/week in UK)

in a variety of clinical and community dwelling populations [@DeMeneses-Gaya2009]. A variant of the AUDIT known as the ‘Extended AUDIT’ improves the granularity of the information collected on alcohol consumption. It follows the same schedule as the AUDIT, but provides a greater range of response options in the quantity and frequency items (questions 1 and 2). The Extended AUDIT has been used in UK research as part of two trials [@Kaner2013c, @Crane2018]  and the Alcohol Toolkit Study [@Beard2015a] to capture greater information on the higher risk drinkers, based on the observation that consumption items are right-truncated.

Neither the AUDIT nor the Extended AUDIT provide a measure of usual alcohol consumption, which could help individuals understand, monitor and adjust their drinking behaviour. Existing research on quantity-frequency alcohol instruments suggests that the product of the quantity and frequency questions in the AUDIT (see AUDIT-1 and AUDIT-2 in [Table 1](#table1)) could be used to produce a measure of usual consumption [@Lemmens1992].

The aim of the present study is develop an algorithm producing an Estimator of usual Weekly Alcohol Consumption in units (EWAC) using Extended AUDIT data as an input.


## Literature on accuracy

A review by @Greenfield2000 clarified the various constructs operationalised in existing alcohol measurement tools. 




The review by @Feunekes1999 

With respect to construct validity, QF does not capture variability of drinking, while GF and WDD do. I

Boniface S, Kneale J, Shelton N. Drinking pattern is more strongly associated with under-reporting of alcohol consumption than socio-demographic factors: evidence from a mixed-methods study. BMC Public Health [Internet] 2014;14(1):1297. PMID:25519144

Boniface S, Fuller E. Drinking diary. In: Craig R, Mindell J, editors. Heal Surv Engl 2011 Vol 1 Heal Soc care lifestyles [Internet] Health and Social Care Information Centre; 2012. Available from: http://content.digital.nhs.uk/catalogue/PUB09300



# Methods 




# Results



## Empirical distribution functions


| Study     | Mean (units/week)     | Median | Variance | N |
| ----------| ---------------------:| --------:|--------:| ----: |
| HSE (all)      | `r tbrounding(mean(hse$totalwu, na.rm =T),1)`   | `r tbrounding(median(hse$totalwu, na.rm =T),1)`     | `r tbrounding(var(hse$totalwu, na.rm =T),1)` |  `r sum(!is.na(hse$totalwu))` |
| HSE diary | `r tbrounding(mean(hse$weektot, na.rm =T),1)`   | `r tbrounding(median(hse$weektot, na.rm =T),1)`     | `r tbrounding(var(hse$weektot, na.rm =T),1)` |  `r sum(!is.na(hse$weektot))` |
| ATS QF    | `r tbrounding(mean(ats$gfmeanweekly, na.rm =T),1)`   | `r tbrounding(median(ats$gfmeanweekly, na.rm =T),1)`   | `r tbrounding(var(ats$gfmeanweekly, na.rm =T),1)` |  `r sum(!is.na(ats$gfmeanweekly))` |



```{r echo=F, fig.height=10, fig.width=15}
library(latticeExtra)
library(scales)
xlims = c(-3, 153)
EWAC <- ecdfplot(na.omit(ats$qfv[ats$qfv > 0]),
                key= keyABH, panel = function(x, f.value = NULL, type = "s",
                                              groups = NULL, qtype = 7, ref = TRUE,...) {
                  panel.ecdfplot(x, f.value = NULL, type = "s",
                                 groups = NULL, qtype = 7,
                                 ref = TRUE,...)
                  panel.abline(v = 14)
                },
                xlim = xlims, col = alpha("orange", .7), lwd = 3, lty = 1,
                scales=list(cex=1.5), xlab = ecdfxlab, ylab = ecdfylab)

GF <- ecdfplot(na.omit(ats$gfmeanweekly[ats$gfmeanweekly > 0]),
                key= keyABH, panel = function(x, f.value = NULL, type = "s",
                                              groups = NULL, qtype = 7, ref = TRUE,...) {
                  panel.ecdfplot(x, f.value = NULL, type = "s",
                                 groups = NULL, qtype = 7,
                                 ref = TRUE,...)
                  panel.abline(v = 14)
                },
                xlim = xlims, col = alpha("black", .7), lwd = 3, lty = 1,
               scales=list(cex=1.5), xlab = ecdfxlab, ylab = ecdfylab)

HSE <- ecdfplot(na.omit(hse$totalwu[hse$dnnow == 1]),
                key= keyABH, panel = function(x, f.value = NULL, type = "s",
                                              groups = NULL, qtype = 7, ref = TRUE,...) {
                  panel.ecdfplot(x, f.value = NULL, type = "s",
                                 groups = NULL, qtype = 7,
                                 ref = TRUE,...)
                  panel.abline(v = 14)
                },
                xlim = xlims, col = alpha("red", .7), lwd = 1, lty = 1,
                scales=list(cex=1.5), xlab = ecdfxlab, ylab = ecdfylab)

HSEdiary <- ecdfplot(na.omit(hse$weektot[hse$dnnow == 1]),
                key= keyABH, panel = function(x, f.value = NULL, type = "s",
                                              groups = NULL, qtype = 7, ref = TRUE,...) {
                  panel.ecdfplot(x, f.value = NULL, type = "s",
                                 groups = NULL, qtype = 7,
                                 ref = TRUE,...)
                  panel.abline(v = 14)
                },
                xlim = xlims, col = alpha("red", .7), lwd = 2, lty = 2,
                scales=list(cex=1.5), xlab = ecdfxlab, ylab = ecdfylab)

HSEdiary + HSE +EWAC + GF

```


```{r, echo=F, fig.height=8, fig.width=11}
plot(ats$qfv,  ats$gfmeanweekly, pch =16, col = alpha(1, .2),
     ylab = "GF (units/week)", xlab = "EWAC (units/week)", main = NULL)
abline(0,1, col = 2, lwd =1.5)
```





# Discussion

- GF not missing at random. Impute the `r round(3883/(3883+22376)*100, 1)`% missing cases

# Limitations

The three sources of information used in this validation measure different constructs: the HSE quantity-frequency does not capture variability, whereas the HSE weekly diary and the ATS graduated frequency schedule do. The HSE diary should nevertheless exhibit smaller recall error.

The AUDIT-E used is administred using a CAPI. These findings are not easily transferable to self-administered AUDITs. Mention the difference between CAPI and self admin AUDIT in previous literature. Higher or lower?


# Tables


Table 1:  <a name="table1"></a>Overview of alcohol schedule used in this paper.

<table style="width:100%;">
<colgroup>
<col width="20%">
<col width="80%">
</colgroup>
<thead>
<tr class="header">
<th>Survey module</th>
<th>Schedule</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><em>ATS QF module</em></td>
<td><ul>
<li>On how many days, if any, did you personally drink a drink containing alcohol in the last four weeks?</li>
<li>What was the maximum number of units you personally consumed on any one day when drinking an alcoholic drink or drinks in the last four weeks?</li>
<li>On how many days, if any, in the last four weeks did you personally drink… [prompting in turn &#39;51-60 units?&#39;, &#39;41-50 units?&#39;, …, &#39;1-2 units?</li>
</ul>
</tr>
<tr class="even">
<td align="center"><em>Health Survey for England</em></td>
<td><ul>
<li>Thinking now about all kinds of drinks, how often have you had an alcoholic drink of any kind during the last 12 months? <em>[8 items from &#39;Almost every day&#39; to &#39;Not at all in the last 12 months&#39;]</em></li>
<li>Did you have an alcoholic drink in the seven days ending yesterday?</li>
<li>On how many days out of the last seven did you have an alcoholic drink?</li>
<li>Which day last week did you last have an alcoholic drink/have the most to drink?</li>
<li>Thinking about last [answer to previous question], what types of drink did you have that day? [list of 8 types of alcohol beverages]</li>
<li>[running through each type of beverage and recording number of units drunk]</li>
</ul></td>

</tr>
</tbody>
</table>


# References